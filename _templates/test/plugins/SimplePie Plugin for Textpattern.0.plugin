a:11:{s:4:"name";s:32:"SimplePie Plugin for Textpattern";s:6:"status";s:1:"1";s:6:"author";s:32:"Ryan Parman and Geoffrey Sneddon";s:10:"author_uri";s:20:"http://simplepie.org";s:7:"version";s:5:"1.2.1";s:11:"description";s:80:"Textpattern plugin for SimplePie: a super-fast, easy-to-use RSS and Atom parser.";s:4:"help";s:2654:"	<p>
<strong>SimplePie Plugin for Textpattern</strong></p>
	<p>SimplePie Plugin for Textpattern adds one tag to your Textpattern installation: the <code>&lt;txp:feed&gt;</code> tag. Here&#8217;s how you use it:
	<ol>
		<li><code>&lt;txp:feed&gt;http://example.com/feed.xml&lt;/txp:feed&gt;</code> &#8212; To load a feed on your Textpattern pages, simply wrap the feed URL with <code>&lt;txp:feed&gt;</code> tags. Doing this with no attributes will display the default way:
	<ul>
		<li>An <code>&lt;h3&gt;</code> containing the feed&#8217;s title, linked back to the originating site.</li>
		<li>An ordered list, containing all of the news items in the feed.</li>
		<li>The news item&#8217;s title, linked back to the originating post.</li>
	</ul></li>
	<ul>
		<li>The full HTML description for each news item.</li>
	</ul></li>
		<li><code>items</code> attribute &#8212; Limits the number of items returned. If you set this value to 5, then you&#8217;ll get back the 5 most recent posts. If there&#8217;s a feed with fewer than 5 posts, SimplePie will return all of them. Defaults to all.</li>
		<li><code>showdesc</code> attribute &#8212; Determines whether the description should be shown or not. If set to false, descriptions are omitted, and the ordered list will display only the linked item titles with no special formatting. Defaults to true.</li>
		<li><code>showdate</code> attribute &#8212; Displays the date of the news item. Accepts anything that&#8217;s allowed in PHP&#8217;s <a href="http://php.net/date">date()</a> function. Defaults to blank.</li>
		<li><code>shortdesc</code> attribute &#8212; Strips all tags from the item&#8217;s description and limits the number of characters that are displayed. Accepts any numeric value. If more characters are allowed than are in the description, the entire description will be displayed. If the text wasn&#8217;t cut at the end of a sentence (ending with a period, exclamation point, or question mark), an ellipsis will be added to the end of the text. Defaults to all characters.</li>
		<li><code>showtitle</code> attribute &#8212; Determines whether the built-in feed title is displayed or not.  Defaults to true.</li>
		<li><code>alttitle</code> attribute &#8212; Displays a custom title in place of the feed&#8217;s built-in title.  Defaults to blank.</li>
	</ol>
	<ol>
		<li><code>error</code> keyword &#8212; Displays a custom error message for when there is a problem retrieving the feed. Defaults to the standard error messages.</p>
	<p>You can find more documentation at the <a href="http://simplepie.org/docs/installation/textpattern/">SimplePie Plugin for Textpattern</a> page.</p>


 ";s:4:"code";s:3463:"global $txpcfg;
if (!class_exists('SimplePie')) require($txpcfg['txpath'].'/lib/simplepie.inc');

function pie_feed($atts, $thing='') {
	global $txpcfg;
	$BLOGROOT = explode('/index.php', $_SERVER["PHP_SELF"]);
	$BLOGROOT = $BLOGROOT[0];
	$TXPROOT = $BLOGROOT . '/textpattern';

	$input = $thing;
	$argv = $atts;

	$feed = new SimplePie();
	$feed->feed_url($input);
	$feed->cache_location($txpcfg['txpath'] . '/lib/simplepie_cache');
	$feed->bypass_image_hotlink();
	$feed->bypass_image_hotlink_page($TXPROOT . '/lib/simplepie_image_handler.php');
	$success = $feed->init();

	if ($success && $feed->data) {
		$flink = $feed->get_feed_link();
		$ftitle = $feed->get_feed_title();

		$output='';
		$output .= '<div class="simplepie">';
		if (!isset($argv['showtitle']) || empty($argv['showtitle']) || $argv['showtitle'] == "true") {
			if (isset($argv['alttitle']) && !empty($argv['alttitle'])) {
				if ($ftitle != '' && $flink != '') $output .= "<h3><a href=\"$flink\">" . $argv['alttitle'] . "</a></h3>";
				else if ($ftitle != '') $output .= "<h3>" . $argv['alttitle'] . "</h3>";
			}
			else {
				if ($ftitle != '' && $flink != '') $output .= "<h3><a href=\"$flink\">$ftitle</a></h3>";
				else if ($ftitle != '') $output .= "<h3>$ftitle</h3>";
			}
		}
		$output .= '<ol>';

		$max = $feed->get_item_quantity();
		if (isset($argv['items']) && !empty($argv['items'])) $max = $feed->get_item_quantity($argv['items']);

		for($x=0; $x<$max; $x++) {
			$item = $feed->get_item($x);
			$link = $item->get_permalink();
			$title = StupefyEntities($item->get_title());
			$full_desc = StupefyEntities($item->get_description());
			$desc = $full_desc;

			if (isset($argv['shortdesc']) && !empty($argv['shortdesc'])) {
				$suffix = '...';
				$short_desc = trim(str_replace("\n", ' ', str_replace("\r", ' ', strip_tags(StupefyEntities($item->get_description())))));
				$desc = substr($short_desc, 0, $argv['shortdesc']);
				$lastchar = substr($desc, -1, 1);
				if ($lastchar == '.' || $lastchar == '!' || $lastchar == '?') $suffix='';
				$desc .= $suffix;
			}

			if (isset($argv['showdesc']) && !empty($argv['showdesc']) && $argv['showdesc']==='false') {
				if (isset($argv['showdate']) && !empty($argv['showdate'])) {
					$output .= "<li><a href=\"$link\">$title</a> <span class=\"date\">" . $item->get_date($argv['showdate']) . "</span></li>";
				} else {
					$output .= "<li><a href=\"$link\">$title</a></li>";
				}
			} else {
				if (isset($argv['showdate']) && !empty($argv['showdate'])) {
					$output .= "<li><strong><a href=\"$link\">$title</a> <span class=\"date\">" . $item->get_date($argv['showdate']) . "</span></strong><br />$desc</li>";
				} else {
					$output .= "<li><strong><a href=\"$link\">$title</a></strong><br />$desc</li>";
				}
			}
		}

		$output .= '</ol>';
		$output .= '</div>';
	}
	else {
		if (isset($argv['error']) && !empty($argv['error'])) $output = $argv['error'];
		else if (isset($feed->error)) $output = $feed->error;
	}

	return $output;
}

// SmartyPants 1.5.1 changes rolled in May 2004 by Alex Rosenberg, http://monauraljerk.org/smartypants-php/
function StupefyEntities($s = '') {
	$inputs = array('&#8211;', '&#8212;', '&#8216;', '&#8217;', '&#8220;', '&#8221;', '&#8230;', '&#91;', '&#93;');
	$outputs = array('-', '--', "'", "'", '"', '"', '...', '[', ']');
	$s = str_replace($inputs, $outputs, $s);
	return $s;
}
";s:12:"code_restore";s:3260:"
global $txpcfg;
if (!class_exists('SimplePie')) require($txpcfg['txpath'].'/lib/simplepie.inc');

function feed($atts, $thing='') {
	global $txpcfg;
	$BLOGROOT = explode('/index.php', $_SERVER["PHP_SELF"]);
	$BLOGROOT = $BLOGROOT[0];
	$TXPROOT = $BLOGROOT . '/textpattern';

	$input = $thing;
	$argv = $atts;

	$feed = new SimplePie();
	$feed->set_feed_url($input);
	$feed->set_cache_location($txpcfg['txpath'] . '/lib/simplepie_cache');
	$success = $feed->init();

	if ($success && $feed->data) {
		$flink = $feed->get_permalink();
		$ftitle = $feed->get_title();

		$output='';
		$output .= '<div class="simplepie">';
		if (!isset($argv['showtitle']) || empty($argv['showtitle']) || $argv['showtitle'] == "true") {
			if (isset($argv['alttitle']) && !empty($argv['alttitle'])) {
				if ($ftitle != '' && $flink != '') $output .= "<h3><a href=\"$flink\">" . $argv['alttitle'] . "</a></h3>";
				else if ($ftitle != '') $output .= "<h3>" . $argv['alttitle'] . "</h3>";
			}
			else {
				if ($ftitle != '' && $flink != '') $output .= "<h3><a href=\"$flink\">$ftitle</a></h3>";
				else if ($ftitle != '') $output .= "<h3>$ftitle</h3>";
			}
		}
		$output .= '<ol>';

		$max = $feed->get_item_quantity();
		if (isset($argv['items']) && !empty($argv['items'])) $max = $feed->get_item_quantity($argv['items']);

		for($x=0; $x<$max; $x++) {
			$item = $feed->get_item($x);
			$link = $item->get_permalink();
			$title = StupefyEntities($item->get_title());
			$full_desc = StupefyEntities($item->get_description());
			$desc = $full_desc;

			if (isset($argv['shortdesc']) && !empty($argv['shortdesc'])) {
				$suffix = '...';
				$short_desc = trim(str_replace("\n", ' ', str_replace("\r", ' ', strip_tags(StupefyEntities($item->get_description())))));
				$desc = substr($short_desc, 0, $argv['shortdesc']);
				$lastchar = substr($desc, -1, 1);
				if ($lastchar == '.' || $lastchar == '!' || $lastchar == '?') $suffix='';
				$desc .= $suffix;
			}

			if (isset($argv['showdesc']) && !empty($argv['showdesc']) && $argv['showdesc']==='false') {
				if (isset($argv['showdate']) && !empty($argv['showdate'])) {
					$output .= "<li><a href=\"$link\">$title</a> <span class=\"date\">" . $item->get_date($argv['showdate']) . "</span></li>";
				} else {
					$output .= "<li><a href=\"$link\">$title</a></li>";
				}
			} else {
				if (isset($argv['showdate']) && !empty($argv['showdate'])) {
					$output .= "<li><strong><a href=\"$link\">$title</a> <span class=\"date\">" . $item->get_date($argv['showdate']) . "</span></strong><br />$desc</li>";
				} else {
					$output .= "<li><strong><a href=\"$link\">$title</a></strong><br />$desc</li>";
				}
			}
		}

		$output .= '</ol>';
		$output .= '</div>';
	}
	else {
		if (isset($argv['error']) && !empty($argv['error'])) $output = $argv['error'];
		else if (isset($feed->error)) $output = $feed->error;
	}

	return $output;
}

// SmartyPants 1.5.1 changes rolled in May 2004 by Alex Rosenberg, http://monauraljerk.org/smartypants-php/
function StupefyEntities($s = '') {
	$inputs = array('&#8211;', '&#8212;', '&#8216;', '&#8217;', '&#8220;', '&#8221;', '&#8230;', '&#91;', '&#93;');
	$outputs = array('-', '--', "'", "'", '"', '"', '...', '[', ']');
	$s = str_replace($inputs, $outputs, $s);
	return $s;
}
";s:8:"code_md5";s:32:"ba61a884ecfb365313f97029b0986591";s:4:"type";s:1:"0";}