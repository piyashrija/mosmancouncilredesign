a:11:{s:4:"name";s:7:"rvm_css";s:6:"status";s:1:"1";s:6:"author";s:15:"Ruud van Melick";s:10:"author_uri";s:21:"http://vanmelick.com/";s:7:"version";s:3:"0.3";s:11:"description";s:18:"Static CSS caching";s:4:"help";s:1445:"	<p>This plugin automatically stores a copy of your style sheet(s) as a static file. Static files are served several orders of magnitude faster than <span class="caps">PHP</span> files (200 times faster, in my own tests on a FastCGI-based server).</p>

	<p>Post-installation steps:
	<ol>
		<li>Activate the plugin.</li>
		<li>Create a directory for the static style sheet files in the root of your textpattern installation. You should make sure that <span class="caps"><span class="caps">PHP</span></span> is able to write to that directory.</li>
		<li>Visit the <a href="index.php?event=prefs&#38;step=advanced_prefs">advanced preferences</a> and make sure the &#8220;Style directory&#8221; preference contains the directory you created in step 2. This path is always a relative path (to the directory of your root textpattern installation).</li>
		<li>Visit the <a href="index.php?event=css">style</a> tab and save each of your style sheets again (saving creates the static file).</li>
		<li>Replace all occurrences of <code>&#60;txp:css /&#62;</code> with <code>&#60;txp:rvm_css /&#62;</code>.</li>
	</ol></p>

	<p>The <code>&#60;txp:rvm_css /&#62;</code> tag supplied by this plugin has the exact same attributes as the built-in <code>&#60;txp:css /&#62;</code> tag and can be used as a drop-in replacement.</p>

	<p>Note: because not all characters are allowed in filenames, avoid using non-alphanumeric characters in style sheet names.</p>";s:4:"code";s:2259:"
if (txpinterface == 'admin')
{
  register_callback('rvm_css_save', 'css', 'css_save');
  register_callback('rvm_css_save', 'css', 'css_save_posted');
  register_callback('rvm_css_save', 'css', 'del_dec');
  register_callback('rvm_css_delete', 'css', 'css_delete');
  register_callback('rvm_css_prefs', 'prefs', '', 1);
}


function rvm_css($atts)
{
  global $txp_error_code, $s, $path_to_site, $rvm_css_dir;

  extract(lAtts(array(
    'format' => 'url',
    'media'  => 'screen',
    'n'      => '',
    'rel'    => 'stylesheet',
    'title'  => '',
  ), $atts));

  if (!$n)
  {
    if ($s)
    {
      $n = safe_field('css', 'txp_section', "name='".doSlash($s)."'");
    }
    else
    {
      $n = 'default';
    }
  }

  $file = $rvm_css_dir.'/'.strtolower(sanitizeForUrl($n)).'.css';

  if (empty($rvm_css_dir) or !is_readable($path_to_site.'/'.$file))
  {
    return css($atts);
  }

  if ($format == 'link')
  {
    return '<link rel="'.$rel.'" type="text/css"'.
      ($media ? ' media="'.$media.'"' : '').
      ($title ? ' title="'.$title.'"' : '').
      ' href="'.hu.$file.'" />';
  }

  return hu.$file;
}


function rvm_css_save()
{
  global $path_to_site, $rvm_css_dir;

  $name = (ps('copy') or ps('savenew')) ? ps('newname') : ps('name');
  $name = strtolower(sanitizeForUrl($name));

  if (empty($rvm_css_dir) or !$name)
  {
    return;
  }

  $css = safe_field('css', 'txp_css', "name='".doSlash(ps('name'))."'");

  if ($css)
  {
    $file   = $path_to_site.'/'.$rvm_css_dir.'/'.$name.'.css';
    $handle = fopen($file, 'wb');
    fwrite($handle, base64_decode($css));
    fclose($handle);
  }
}


function rvm_css_delete()
{
  global $path_to_site, $rvm_css_dir;

  if (safe_field('css', 'txp_css', "name='".doSlash(ps('name'))."'"))
  {
    return;
  }

  $name = strtolower(sanitizeForUrl(ps('name')));
  $file = $path_to_site.'/'.$rvm_css_dir.'/'.$name.'.css';

  if (!empty($rvm_css_dir) and $name)
  {
    unlink($file);
  }
}


function rvm_css_prefs()
{
  global $textarray;

  $textarray['rvm_css_dir'] = 'Style directory';

  if (!safe_field ('name', 'txp_prefs', "name='rvm_css_dir'"))
  {
    safe_insert('txp_prefs', "prefs_id=1, name='rvm_css_dir', val='css', type=1, event='admin', html='text_input', position=20");
  }
}
";s:12:"code_restore";s:2259:"
if (txpinterface == 'admin')
{
  register_callback('rvm_css_save', 'css', 'css_save');
  register_callback('rvm_css_save', 'css', 'css_save_posted');
  register_callback('rvm_css_save', 'css', 'del_dec');
  register_callback('rvm_css_delete', 'css', 'css_delete');
  register_callback('rvm_css_prefs', 'prefs', '', 1);
}


function rvm_css($atts)
{
  global $txp_error_code, $s, $path_to_site, $rvm_css_dir;

  extract(lAtts(array(
    'format' => 'url',
    'media'  => 'screen',
    'n'      => '',
    'rel'    => 'stylesheet',
    'title'  => '',
  ), $atts));

  if (!$n)
  {
    if ($s)
    {
      $n = safe_field('css', 'txp_section', "name='".doSlash($s)."'");
    }
    else
    {
      $n = 'default';
    }
  }

  $file = $rvm_css_dir.'/'.strtolower(sanitizeForUrl($n)).'.css';

  if (empty($rvm_css_dir) or !is_readable($path_to_site.'/'.$file))
  {
    return css($atts);
  }

  if ($format == 'link')
  {
    return '<link rel="'.$rel.'" type="text/css"'.
      ($media ? ' media="'.$media.'"' : '').
      ($title ? ' title="'.$title.'"' : '').
      ' href="'.hu.$file.'" />';
  }

  return hu.$file;
}


function rvm_css_save()
{
  global $path_to_site, $rvm_css_dir;

  $name = (ps('copy') or ps('savenew')) ? ps('newname') : ps('name');
  $name = strtolower(sanitizeForUrl($name));

  if (empty($rvm_css_dir) or !$name)
  {
    return;
  }

  $css = safe_field('css', 'txp_css', "name='".doSlash(ps('name'))."'");

  if ($css)
  {
    $file   = $path_to_site.'/'.$rvm_css_dir.'/'.$name.'.css';
    $handle = fopen($file, 'wb');
    fwrite($handle, base64_decode($css));
    fclose($handle);
  }
}


function rvm_css_delete()
{
  global $path_to_site, $rvm_css_dir;

  if (safe_field('css', 'txp_css', "name='".doSlash(ps('name'))."'"))
  {
    return;
  }

  $name = strtolower(sanitizeForUrl(ps('name')));
  $file = $path_to_site.'/'.$rvm_css_dir.'/'.$name.'.css';

  if (!empty($rvm_css_dir) and $name)
  {
    unlink($file);
  }
}


function rvm_css_prefs()
{
  global $textarray;

  $textarray['rvm_css_dir'] = 'Style directory';

  if (!safe_field ('name', 'txp_prefs', "name='rvm_css_dir'"))
  {
    safe_insert('txp_prefs', "prefs_id=1, name='rvm_css_dir', val='css', type=1, event='admin', html='text_input', position=20");
  }
}
";s:8:"code_md5";s:32:"70bd693b28f31c4a5b76f2761f3ef347";s:4:"type";s:1:"1";}